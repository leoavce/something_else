<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Realtime Chat + Notes + Lunch</title>
  <link rel="stylesheet" href="./css/styles.css" />
</head>
<body>
  <!-- 상단바 -->
  <header class="topbar">
    <div class="brand">Simple Chat</div>
    <div class="auth-area">
      <span id="user-name" class="user-name"></span>
      <button id="btn-logout" class="btn">로그아웃</button>
    </div>
  </header>

  <!-- 앱 본문(로그인 후 표시) -->
  <main id="app-root" class="grid hidden">
    <!-- 채팅 -->
    <section class="panel">
      <!-- 점심 배너: 채팅 상단 -->
      <div id="lunch-banner" class="lunch-banner hidden">
        <div class="lunch-row">
          <strong id="lunch-title">점심 후보</strong>
          <span id="lunch-timer" class="lunch-timer" title="남은 시간">05:00</span>
        </div>
        <div id="lunch-candidates" class="lunch-candidates"></div>
        <div id="lunch-cta" class="lunch-cta hidden">
          <span id="lunch-active" class="lunch-active"></span>
          <button id="btn-lunch-accept" class="btn primary">수락</button>
          <button id="btn-lunch-cancel" class="btn">취소</button>
        </div>
        <div id="lunch-status" class="lunch-status"></div>
      </div>

      <h2 class="panel-title">채팅방</h2>
      <ul id="messages" class="messages" aria-live="polite"></ul>

      <div class="inputbar">
        <input id="nickname" class="nick-input" placeholder="표시 이름(최대 20자)" maxlength="20" />
        <button id="save-nick" class="btn">저장</button>
      </div>

      <div class="inputbar">
        <input id="message" class="msg-input" placeholder="메시지를 입력하세요 (@점심메뉴_김밥_라멘)" maxlength="1000" />
        <button id="send" class="btn primary">전송</button>
      </div>
    </section>

    <!-- 메모 -->
    <aside class="panel">
      <h2 class="panel-title">내 메모</h2>

      <div class="note-editor">
        <input id="note-title" class="note-title" placeholder="제목" maxlength="100" />
        <textarea id="note-body" class="note-body" rows="5" placeholder="내용"></textarea>
        <div class="note-actions">
          <button id="btn-note-save" class="btn primary">추가</button>
          <button id="btn-note-clear" class="btn">지우기</button>
        </div>
      </div>

      <ul id="note-list" class="note-list"></ul>
    </aside>
  </main>

  <script type="module" src="./js/firebase_bootstrap.js"></script>
  <script type="module" src="./js/auth_gate.js"></script>
  <script type="module" src="./js/lunch.js"></script>
  <script type="module" src="./js/chat.js"></script>
  <script type="module" src="./js/notes.js"></script>
</body>
</html>
